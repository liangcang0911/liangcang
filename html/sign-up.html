<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>用户注册.良仓－生活美学指南</title>
		<link rel="icon" href="../images/favicon.ico"/>
		<link rel="stylesheet" type="text/css" href="../css/sign-up.css"/>
	</head>
	<body>
		<ul>
			<li class="logo">
				<a href="index.html"></a>
			</li>
			<li class="phone">
				<span>手机号</span>
				<input type="text" placeholder="请输入手机号" name="username"/>
			</li>
			<li class="code">
				<span class="s1">验证码</span>
				<input type="text" placeholder="输入验证码" />
				<span class="s2"></span>
				<span class="s3">看不清，换一张</span>
			</li>
			<li class="password">
				<span>创建密码</span>
				<input type="password" placeholder="6-20位字符组成，区分大小写" name="password"/>
			</li>
			<li class="password">
				<span>确认密码</span>
				<input type="password" placeholder="确认密码" />
			</li>
			<li class="checked">
				<label for="check"><input type="checkbox" checked="checked" id="check"/>同意《良仓注册条款》</label>				
			</li>
			<li class="enter">
				<input type="submit" value="立即注册" />
			</li>
			<li class="more">
				<ol>
					<li class="qq"></li>
					<li class="xl"></li>
					<li class="db"></li>					
					<li class="tx"></li>					
				</ol>
				<a href="sign-in.html">登录良仓</a>
			</li>
		</ul>			
	</body>
	<script src="../js/myajax.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
	  var oUsername = document.querySelector('input[name=username]');
	  var oPassword = document.querySelector('input[name=password]');
	  var oSubmit = document.querySelector('input[type=submit]');
	  oSubmit.onclick = function(){
	    //先进行js校验用户名和密码符合规范，js校验通过
	    //请求ajax进行校验用户名是否可用,当这个校验通过才能请求注册接口
	
	   	myajax.post('http://h6.duchengjiu.top/shop/api_user.php',
	    {
	      status: 'register',
	      username: oUsername.value,
	      password: oPassword.value
	    }, function(err, responseText){
	      var json = JSON.parse(responseText);
	      console.log(json);
	      alert(json.message);
	    });
	  }
	  
	</script>
</html>
